diff -ruN gg-0.2.2.1.org/src/callbacks.c gg-0.2.2.1/src/callbacks.c
--- gg-0.2.2.1.org/src/callbacks.c	Wed May  1 10:07:08 2002
+++ gg-0.2.2.1/src/callbacks.c	Wed May 29 13:06:14 2002
@@ -407,9 +407,13 @@
 		FILE *fp;
 		gchar *path;
 
-		path =
-		    g_strdup_printf("%s/.gg/history/%d", getenv("HOME"),
-				    kontakt->uin);
+		if (getenv("CONFIG_DIR"))
+		    path = g_strdup_printf("%s/%s/gg/history/%d",
+			getnev("HOME"), getenv("CONFIG_DIR"), kontakt->uin);
+		else
+		    path = g_strdup_printf("%s/.gg/history/%d",
+			getenv("HOME"), kontakt->uin);
+		
 		fp = fopen(path, "r");
 		if (fp) {
 			while (!feof(fp)) {
diff -ruN gg-0.2.2.1.org/src/gg.c gg-0.2.2.1/src/gg.c
--- gg-0.2.2.1.org/src/gg.c	Fri Apr 19 16:04:50 2002
+++ gg-0.2.2.1/src/gg.c	Wed May 29 13:03:55 2002
@@ -407,12 +407,18 @@
 	gchar *path, *timestamp, *lognick;
 	FILE *fp;
 
-	path = g_strdup_printf("%s/.gg/history", getenv("HOME"));
+	if (getenv("CONFIG_DIR")) 
+	    path = g_strdup_printf("%s/%s/gg/history", getenv("HOME"), getenv("CONFIG_DIR"));
+	else
+	    path = g_strdup_printf("%s/.gg/history", getenv("HOME"));
+
 	mkdir(path, 0755);
 	g_free(path);
 
-	path =
-	    g_strdup_printf("%s/.gg/history/%d", getenv("HOME"), sess_uin);
+	if (getenv("CONFIG_DIR"))
+	    path = g_strdup_printf("%s/%s/gg/history/%d", getenv("HOME"), getenv("CONFIG_DIR"), sess_uin);
+	else
+	    path = g_strdup_printf("%s/.gg/history/%d", getenv("HOME"), sess_uin);
 	fp = fopen(path, "a");
 	g_free(path);
 
diff -ruN gg-0.2.2.1.org/src/main.c gg-0.2.2.1/src/main.c
--- gg-0.2.2.1.org/src/main.c	Mon Apr 22 11:59:01 2002
+++ gg-0.2.2.1/src/main.c	Wed May 29 13:19:44 2002
@@ -80,7 +80,11 @@
 	FILE *fp;
 	GList *tmplist;
 
-	path = g_strconcat(g_get_home_dir(), "/.gg/userlist", NULL);
+	if (getenv("CONFIG_DIR"))
+	    path = g_strconcat(g_get_home_dir(), "/", getenv("CONFIG_DIR"),
+		    "/gg/userlist", NULL);
+	else
+	    path = g_strconcat(g_get_home_dir(), "/.gg/userlist", NULL);
 
 	fp = fopen(path, "w");
 
@@ -139,7 +143,10 @@
 	}
 	gtk_clist_clear(GTK_CLIST(lista));
 
-	path = g_strconcat(getenv("HOME"), "/.gg/userlist", NULL);
+	if (getenv("CONFIG_DIR"))
+	    path = g_strconcat(getenv("HOME"), "/", getenv("CONFIG_DIR", "/gg/userlist", NULL);
+	else
+	    path = g_strconcat(getenv("HOME"), "/.gg/userlist", NULL);
 
 	fp = fopen(path, "r");
 
@@ -271,7 +278,11 @@
  	config.save_contacts_on_exit = 1;
 	config.server = g_strdup(GG_DEFAULT_HOST);
 		
-	path = g_strconcat(getenv("HOME"), "/.gg/config", NULL);
+	if (getenv("CONFIG_DIR"))
+	    path = g_strconcat(getenv("HOME"), "/", getenv("CONFIG_DIR"),
+		    "/gg/config", NULL);
+	else
+	    path = g_strconcat(getenv("HOME"), "/.gg/config", NULL);
 
 	g_list_free(ignore);
 
@@ -431,7 +442,12 @@
 	    config.width=window->allocation.width;
 	    config.height=window->allocation.height;
 	}
-	path = g_strconcat(getenv("HOME"), "/.gg/config", NULL);
+	
+	if (getenv("CONFIG_DIR"))
+	    path = g_strconcat(getenv("HOME"), "/", getenv("CONFIG_DIR"),
+		    "/gg/config", NULL);
+	else
+	    path = g_strconcat(getenv("HOME"), "/.gg/config", NULL);
 
 	fp = fopen(path, "w");
 
@@ -574,7 +590,11 @@
 #endif
 	gchar *path = NULL;
 
-	path = g_strconcat(getenv("HOME"), "/.gg", NULL);
+	if (getenv("CONFIG_DIR"))
+	    path = g_strconcat(getenv("HOME"), "/", getenv("CONFIG_DIR"),
+		    "/gg", NULL);
+	else
+	    path = g_strconcat(getenv("HOME"), "/.gg", NULL);
 	mkdir(path, 0755);
 	g_free(path);
 
